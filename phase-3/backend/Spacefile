# Deta Space Configuration
# https://deta.space/docs/en/build/reference/spacefile

v: 0
micros:
  - name: backend
    src: .
    engine: python3.11
    primary: true
    run: uvicorn app.main:app --host 0.0.0.0 --port $PORT
    presets:
      env:
        - name: DATABASE_URL
          description: PostgreSQL database URL (e.g., from Neon, Supabase, etc.)
        - name: BETTER_AUTH_SECRET
          description: Secret key for JWT authentication
        - name: CORS_ORIGINS
          description: Comma-separated list of allowed CORS origins
          default: "https://*.deta.app"
        - name: API_VERSION
          description: API version string
          default: "1.0.0"
        - name: DEBUG
          description: Enable debug mode
          default: "false"
